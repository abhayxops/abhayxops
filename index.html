import React, { useState, useEffect } from 'react';
import { 
  ArrowUpRight, 
  Mail, 
  Linkedin, 
  Download,
  MapPin,
  Phone,
  ArrowRight,
  Minus
} from 'lucide-react';

const App = () => {
  const [activeSection, setActiveSection] = useState('home');

  useEffect(() => {
    const handleScroll = () => {
      const sections = ['home', 'experience', 'expertise', 'contact'];
      const current = sections.find(section => {
        const element = document.getElementById(section);
        if (element) {
          const rect = element.getBoundingClientRect();
          return rect.top >= 0 && rect.top <= 300;
        }
        return false;
      });
      if (current) setActiveSection(current);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const scrollToSection = (id) => {
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
    }
  };

  const portfolioData = {
    name: "Abhay Bhattacharjee",
    role: "Operations Manager",
    subRole: "Strategic Leader & Data Analyst",
    location: "Indore, MP",
    email: "abhav.bhattacharjee@outlook.com",
    phone: "(+91) 934-000-7822",
    linkedin: "linkedin.com/in/abhay",
    about: "Decisive Operations Manager driving revenue growth and optimizing performance. Expert in aligning operational priorities with corporate objectives through data-driven strategies.",
    skills: [
      "Strategic Management", "Operations Management", "PowerBI", "Tableau", 
      "Looker Studio", "Data Analysis", "Salesforce", "Power Automate", 
      "AI Integration", "Risk Management"
    ],
    experience: [
      {
        id: 1,
        company: "TaskUs",
        period: "2023 - Present",
        role: "Operations Manager",
        description: "Spearheading a team of 150+ teammates and 10 team leaders.",
        achievements: [
          "Optimized operational performance through precise forecasting.",
          "Introduced and established the Phone Line of Business.",
          "Reduced attrition by 4% month-over-month.",
          "Improved ESAT scores by approximately 47.5%."
        ]
      },
      {
        id: 2,
        company: "TaskUs",
        period: "2021 - 2023",
        role: "Operations Team Leader",
        description: "Championed a team of ~21 teammates focused on high-quality service.",
        achievements: [
          "Exceeded First Call Resolution (FCR) goals by ~4.8%.",
          "Enhanced client satisfaction via proactive resolutions.",
          "Implemented automation using Connectors and AppScripts."
        ]
      },
      {
        id: 3,
        company: "TaskUs",
        period: "2020 - 2021",
        role: "Teammate",
        description: "Foundational role focusing on service excellence.",
        achievements: [
          "Awarded 'Best Teamleader, Year 2020'.",
          "Recognized for outstanding performance early in tenure."
        ]
      },
      {
        id: 4,
        company: "Gun Carriage Factory",
        period: "2018 - 2020",
        role: "Apprenticeship",
        description: "Technical apprenticeship in precision machining.",
        achievements: [
          "Gained hands-on experience in industrial manufacturing."
        ]
      }
    ]
  };

  return (
    <div className="min-h-screen bg-white text-black font-sans selection:bg-black selection:text-white">
      
      {/* Sticky Header */}
      <nav className="fixed w-full z-50 bg-white/90 backdrop-blur-sm border-b-2 border-black">
        <div className="max-w-7xl mx-auto px-6 h-16 flex justify-between items-center">
          <div className="text-lg font-bold tracking-tighter uppercase">
            AB<span className="text-neutral-400">.</span>26
          </div>
          <div className="hidden md:flex space-x-12 text-sm font-bold uppercase tracking-widest">
            {['Experience', 'Expertise', 'Contact'].map((item) => (
              <button
                key={item}
                onClick={() => scrollToSection(item.toLowerCase())}
                className="hover:text-neutral-500 transition-colors"
              >
                {item}
              </button>
            ))}
          </div>
          <a href={`mailto:${portfolioData.email}`} className="bg-black text-white px-5 py-2 text-sm font-bold uppercase hover:bg-neutral-800 transition-colors">
            Hire Me
          </a>
        </div>
      </nav>

      <main className="max-w-7xl mx-auto px-6 pt-32 pb-20">
        
        {/* HERO SECTION */}
        <section id="home" className="mb-32">
          <div className="border-b-2 border-black pb-12">
            <h1 className="text-6xl md:text-9xl font-black tracking-tighter leading-[0.9] mb-8 uppercase break-words">
              Abhay<br/>Bhattacharjee
            </h1>
            <div className="flex flex-col md:flex-row md:items-end justify-between gap-8">
              <p className="text-xl md:text-3xl font-medium max-w-2xl leading-tight">
                {portfolioData.role} & <br/>
                {portfolioData.subRole}
              </p>
              
              <div className="flex flex-col gap-2 text-sm font-mono text-neutral-600 md:text-right">
                <span className="flex items-center gap-2 md:justify-end">
                  <MapPin size={14}/> {portfolioData.location}
                </span>
                <span className="flex items-center gap-2 md:justify-end">
                  <Phone size={14}/> {portfolioData.phone}
                </span>
              </div>
            </div>
          </div>
          
          {/* About Blurb */}
          <div className="grid md:grid-cols-12 gap-8 pt-12">
            <div className="md:col-span-3 text-sm font-bold uppercase tracking-widest text-neutral-400">
              01 / Profile
            </div>
            <div className="md:col-span-9">
              <p className="text-2xl md:text-4xl font-light leading-snug">
                {portfolioData.about}
              </p>
            </div>
          </div>
        </section>

        {/* EXPERIENCE SECTION */}
        <section id="experience" className="mb-32">
           <div className="border-t-2 border-black pt-4 mb-16">
            <h2 className="text-sm font-bold uppercase tracking-widest text-neutral-400">
              02 / Professional History
            </h2>
          </div>

          <div className="space-y-0 divide-y divide-neutral-200">
            {portfolioData.experience.map((job) => (
              <div key={job.id} className="grid md:grid-cols-12 gap-8 py-12 group hover:bg-neutral-50 transition-colors">
                {/* Date Column */}
                <div className="md:col-span-3">
                  <span className="font-mono text-sm border border-black px-3 py-1 rounded-full">
                    {job.period}
                  </span>
                </div>
                
                {/* Role & Company */}
                <div className="md:col-span-4">
                  <h3 className="text-2xl font-bold uppercase mb-1">{job.company}</h3>
                  <p className="text-lg text-neutral-600 font-medium">{job.role}</p>
                </div>

                {/* Details */}
                <div className="md:col-span-5">
                   <p className="text-lg mb-6 leading-relaxed">
                     {job.description}
                   </p>
                   <ul className="space-y-3">
                     {job.achievements.map((achievement, idx) => (
                       <li key={idx} className="flex items-start gap-3 text-sm text-neutral-600">
                         <Minus size={16} className="mt-0.5 flex-shrink-0 text-black" />
                         {achievement}
                       </li>
                     ))}
                   </ul>
                </div>
              </div>
            ))}
          </div>
        </section>

        {/* EXPERTISE SECTION */}
        <section id="expertise" className="mb-32">
          <div className="border-t-2 border-black pt-4 mb-16">
            <h2 className="text-sm font-bold uppercase tracking-widest text-neutral-400">
              03 / Core Competencies
            </h2>
          </div>

          <div className="grid grid-cols-2 md:grid-cols-4 gap-px bg-black border-2 border-black">
            {portfolioData.skills.map((skill, idx) => (
              <div key={idx} className="bg-white p-6 md:p-10 h-full flex items-center justify-center text-center hover:invert transition-all duration-300">
                <span className="font-bold text-lg md:text-xl">{skill}</span>
              </div>
            ))}
          </div>

          <div className="grid md:grid-cols-2 mt-12 gap-12">
             <div className="bg-neutral-100 p-8 border border-neutral-200">
                <h3 className="text-xl font-bold uppercase mb-4">Education</h3>
                <div className="flex justify-between items-start border-t border-black pt-4">
                   <div>
                     <p className="font-bold text-lg">Bachelor of Commerce</p>
                     <p className="text-neutral-600">Applied Economics & Finance</p>
                   </div>
                   <p className="font-mono text-sm">2017</p>
                </div>
                <p className="mt-2 text-sm text-neutral-500">St. Aloysius Autonomous College</p>
             </div>

             <div className="bg-neutral-100 p-8 border border-neutral-200">
                <h3 className="text-xl font-bold uppercase mb-4">Certification</h3>
                <div className="flex justify-between items-start border-t border-black pt-4">
                   <div>
                     <p className="font-bold text-lg">Google Data Analytics</p>
                     <p className="text-neutral-600">Professional Certificate</p>
                   </div>
                   <p className="font-mono text-sm">2021</p>
                </div>
             </div>
          </div>
        </section>

        {/* CONTACT SECTION */}
        <section id="contact">
          <div className="bg-black text-white p-8 md:p-20 relative overflow-hidden">
             {/* Decorative big text */}
             <div className="absolute -top-10 -right-10 text-neutral-800 font-black text-9xl opacity-20 pointer-events-none select-none">
               CONTACT
             </div>

             <h2 className="text-5xl md:text-7xl font-bold uppercase mb-12 relative z-10">
               Let's Work<br/>Together
             </h2>
             
             <div className="grid md:grid-cols-2 gap-12 relative z-10">
                <div className="space-y-8">
                  <a href={`mailto:${portfolioData.email}`} className="group block border-b border-white/20 pb-8 hover:border-white transition-colors">
                    <p className="text-sm font-bold uppercase tracking-widest text-neutral-400 mb-2">Email</p>
                    <div className="flex items-center justify-between">
                      <span className="text-xl md:text-2xl break-all">{portfolioData.email}</span>
                      <ArrowUpRight className="opacity-0 group-hover:opacity-100 transition-opacity" />
                    </div>
                  </a>
                  
                  <a href={`tel:${portfolioData.phone}`} className="group block border-b border-white/20 pb-8 hover:border-white transition-colors">
                    <p className="text-sm font-bold uppercase tracking-widest text-neutral-400 mb-2">Phone</p>
                    <div className="flex items-center justify-between">
                      <span className="text-xl md:text-2xl">{portfolioData.phone}</span>
                      <ArrowUpRight className="opacity-0 group-hover:opacity-100 transition-opacity" />
                    </div>
                  </a>
                </div>

                <div className="flex flex-col justify-end items-start md:items-end">
                  <div className="flex gap-4">
                     <a href="#" className="w-12 h-12 bg-white text-black flex items-center justify-center rounded-full hover:bg-neutral-200 transition-colors">
                       <Linkedin size={20} />
                     </a>
                     <a href="#" className="w-12 h-12 border border-white text-white flex items-center justify-center rounded-full hover:bg-white hover:text-black transition-colors">
                       <Download size={20} />
                     </a>
                  </div>
                  <p className="mt-8 text-neutral-500 text-sm">
                    Â© 2026 Abhay Bhattacharjee. All rights reserved.
                  </p>
                </div>
             </div>
          </div>
        </section>

      </main>
    </div>
  );
};

export default App;
